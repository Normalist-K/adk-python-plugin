# Agent-to-Agent (A2A) Protocol

> **Reference**: https://google.github.io/adk-docs/a2a/

## Overview

The Agent-to-Agent (A2A) protocol enables **communication between agents** across different systems, frameworks, or deployments. It allows agents to expose their capabilities and consume other agents' services.

---

## Core Concepts

| Concept | Description |
|---------|-------------|
| **Exposing** | Making an agent available for other agents to call |
| **Consuming** | Calling another agent's capabilities from your agent |
| **Agent Card** | Metadata describing an agent's capabilities |
| **Task** | A unit of work sent to an exposed agent |

---

## Exposing Agents

Make your ADK agent available for other agents to consume.

### Basic Setup

```python
from google.adk.agents import Agent
from google.adk.a2a import A2AServer

# Create your agent
my_agent = Agent(
    name="helper_agent",
    model="gemini-2.5-flash",
    instruction="Help users with their tasks.",
    tools=[my_tool],
)

# Expose via A2A
server = A2AServer(agent=my_agent)
server.run(host="0.0.0.0", port=8080)
```

### Agent Card

Define agent capabilities for discovery:

```python
from google.adk.a2a import AgentCard

card = AgentCard(
    name="helper_agent",
    description="A helpful assistant for various tasks",
    capabilities=["question_answering", "data_analysis"],
    version="1.0.0",
)
```

> **Detailed Guide**: https://google.github.io/adk-docs/a2a/quickstart-exposing/

---

## Consuming Agents

Call other agents from your ADK agent.

### Basic Usage

```python
from google.adk.agents import Agent
from google.adk.a2a import A2AClient, RemoteAgentTool

# Create client for remote agent
client = A2AClient(url="http://remote-agent:8080")

# Create tool from remote agent
remote_tool = RemoteAgentTool(
    client=client,
    name="remote_helper",
    description="Call the remote helper agent",
)

# Use in your agent
my_agent = Agent(
    name="coordinator",
    model="gemini-2.5-flash",
    instruction="Coordinate tasks using available helpers.",
    tools=[remote_tool],
)
```

### Async Consumption

```python
from google.adk.a2a import A2AClient

async def call_remote_agent():
    client = A2AClient(url="http://remote-agent:8080")

    # Send task
    result = await client.send_task(
        message="Analyze this data",
        context={"data": data_to_analyze}
    )

    return result
```

> **Detailed Guide**: https://google.github.io/adk-docs/a2a/quickstart-consuming/

---

## Use Cases

| Use Case | Description |
|----------|-------------|
| **Microservice Architecture** | Specialized agents for different domains |
| **Cross-team Collaboration** | Teams share agent capabilities |
| **Scalability** | Distribute workload across agents |
| **Capability Composition** | Combine multiple agents' capabilities |

---

## Architecture

```
┌─────────────────┐        A2A Protocol        ┌─────────────────┐
│  Consumer Agent │ ──────────────────────────▶│  Exposed Agent  │
│                 │◀────────────────────────── │                 │
│  (Your Agent)   │       Task / Result        │  (Remote Agent) │
└─────────────────┘                            └─────────────────┘
```

---

## Official Documentation Links

| Topic | URL |
|-------|-----|
| A2A Overview | https://google.github.io/adk-docs/a2a/ |
| Introduction | https://google.github.io/adk-docs/a2a/intro/ |
| Exposing (Python) | https://google.github.io/adk-docs/a2a/quickstart-exposing/ |
| Consuming (Python) | https://google.github.io/adk-docs/a2a/quickstart-consuming/ |
